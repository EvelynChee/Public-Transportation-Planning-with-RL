

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>env class &mdash; Public Transportation Planning with RL 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="network class" href="network.html" />
    <link rel="prev" title="Public Transportation Planning using RL - Bus Traveling in a Loop with Peak Hours" href="intro.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Public Transportation Planning with RL
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Public Transportation Planning using RL - Bus Traveling in a Loop with Peak Hours</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html#introduction">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="intro.html#api-documentation">API Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">env class</a></li>
<li class="toctree-l3"><a class="reference internal" href="network.html">network class</a></li>
<li class="toctree-l3"><a class="reference internal" href="helper.html">helper module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Public Transportation Planning with RL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="intro.html">Public Transportation Planning using RL - Bus Traveling in a Loop with Peak Hours</a> &raquo;</li>
        
      <li>env class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/env.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="env-class">
<h1>env class<a class="headerlink" href="#env-class" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="env.Station">
<em class="property">class </em><code class="descclassname">env.</code><code class="descname">Station</code><span class="sig-paren">(</span><em>peak_rate</em>, <em>non_peak_rate</em>, <em>max_passengers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Station"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Station" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Common base class for all bus stations. Each day consists of 1000
unit time. In each hour of the day, the station might have higher passenger
arrival rate during the last 15 minutes of the hour (peak hour).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>peak_rate</strong> (<em>int</em>) – An integer &gt;= 1 indicating the mean time
interval in between the arrival between two
passengers during peak hour.</li>
<li><strong>non_peak_rate</strong> (<em>int</em>) – An integer &gt;= 1 indicating the mean time
interval in between the arrival between two
passengers during non-peak hour.</li>
<li><strong>max_passenger</strong> (<em>int</em>) – Maximum number of passengers that the station
could contain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="env.Station.add_passenger">
<code class="descname">add_passenger</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Station.add_passenger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Station.add_passenger" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds passengers to bus stops randomly based on the arrival rate unless
the maximum is reached. The rate depends on the current time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>int</em>) – Current time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Initial total number of passengers at the station.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.Station.empty">
<code class="descname">empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Station.empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Station.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if there is a bus picking up passengers at the station.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there is a bus, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.Station.incoming">
<code class="descname">incoming</code><span class="sig-paren">(</span><em>bus</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Station.incoming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Station.incoming" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus coming in to the station to pick up the passengers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bus</strong> (<a class="reference internal" href="#env.Bus" title="env.Bus"><em>Bus</em></a>) – Incoming bus.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Total number of passengers picked up.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.Station.outgoing">
<code class="descname">outgoing</code><span class="sig-paren">(</span><em>bus</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Station.outgoing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Station.outgoing" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes bus from the station if it is currently at the station.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bus</strong> (<a class="reference internal" href="#env.Bus" title="env.Bus"><em>Bus</em></a>) – Bus leaving the station.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="env.Bus">
<em class="property">class </em><code class="descclassname">env.</code><code class="descname">Bus</code><span class="sig-paren">(</span><em>deploy_cost</em>, <em>boarding_rate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Bus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Common base class for all buses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>deploy_cost</strong> (<em>float</em>) – Cost of deploying the bus.</li>
<li><strong>boarding_rate</strong> (<em>int</em>) – Number of passengers boarding the bus per unit time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="env.Bus.arrive">
<code class="descname">arrive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Bus.arrive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Bus.arrive" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus arrives back at the terminal and waiting for deployment.</p>
</dd></dl>

<dl class="method">
<dt id="env.Bus.boarding">
<code class="descname">boarding</code><span class="sig-paren">(</span><em>passengers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Bus.boarding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Bus.boarding" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus picking up passengers at a station. The time needed for passengers
to board the bus depends on the number of passengers and boarding rate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>passengers</strong> (<em>int</em>) – Number of passengers that needs to be picked up.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.Bus.depart">
<code class="descname">depart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Bus.depart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Bus.depart" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the bus from terminal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The cost of deploying the bus.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.Bus.forward">
<code class="descname">forward</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#Bus.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.Bus.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus moves forward by one unit in the route.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="env.BusLine">
<em class="property">class </em><code class="descclassname">env.</code><code class="descname">BusLine</code><span class="sig-paren">(</span><em>distance</em>, <em>waiting_cost</em>, <em>overtake_penalty</em>, <em>no_bus_penalty</em>, <em>pickup_reward</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Common base class for the bus route and contains Stations and Buses.
Buses travel in one direction and in a loop. Only one terminal available.
Buses operate for 1920 unit time in each day (equivalent to 16 hours).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>distance</strong> (<em>int</em>) – Distance of the bus route.</li>
<li><strong>waiting_cost</strong> (<em>float</em>) – Cost for each waiting passenger per unit time.</li>
<li><strong>overtake_penalty</strong> (<em>float</em>) – Cost for a bus overtaking another.</li>
<li><strong>pickup_reward</strong> (<em>float</em>) – Reward for picking up a passenger.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="env.BusLine.add_bus">
<code class="descname">add_bus</code><span class="sig-paren">(</span><em>deploy_cost</em>, <em>boarding_rate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine.add_bus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine.add_bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a bus which is ready to be deployed for this bus route at terminal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>deploy_cost</strong> (<em>float</em>) – Cost of deploying this bus.</li>
<li><strong>boarding_rate</strong> (<em>int</em>) – Number of passengers that can board this bus
per unit time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.BusLine.add_station">
<code class="descname">add_station</code><span class="sig-paren">(</span><em>peak_rate</em>, <em>non_peak_rate</em>, <em>location</em>, <em>max_passengers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine.add_station"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine.add_station" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds station to bus route if no station exists at that location and the
location is within the bus route.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>peak_rate</strong> (<em>int</em>) – An integer &gt;= 1 indicating the mean time
interval in between the arrival between two
passengers during peak hour.</li>
<li><strong>non_peak_rate</strong> (<em>int</em>) – An integer &gt;= 1 indicating the mean time
interval in between the arrival between two
passengers during non-peak hour.</li>
<li><strong>location</strong> (<em>int</em>) – Location of the station to be added.</li>
<li><strong>max_passengers</strong> (<em>int</em>) – Maximum number of passengers that the station
could contain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.BusLine.get_feature">
<code class="descname">get_feature</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine.get_feature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine.get_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current representation of the environment. Information on
the number of passengers at each bus station and the distance of the
nearest bus from the terminal will be given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An array where the first element is the current time, the next
N elements indicates the the number of passengers at each of the
N bus stops and the last element indicates the distance of the
nearest bus from the terminal. Values are normalized such that
they are all in between 0 and 1.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.BusLine.move_forward">
<code class="descname">move_forward</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine.move_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine.move_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Moving forward the system by one time step, which includes passengers
arriving at the stations and buses that are deployed moving
forward by one unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The toal reward received during the one unit time.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="env.BusLine.take_action">
<code class="descname">take_action</code><span class="sig-paren">(</span><em>n=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/env.html#BusLine.take_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#env.BusLine.take_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Bus operator takes an action. n=0 is not deploying any bus and n=1 is to
deploy one bus from terminal into the route. After taking action,
everything move forward by one unit time accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Action to be taken. Default 0.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The total reward received after taking the action.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="network.html" class="btn btn-neutral float-right" title="network class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral" title="Public Transportation Planning using RL - Bus Traveling in a Loop with Peak Hours" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Evelyn Chee Yi Lyn.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>